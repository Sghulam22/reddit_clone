<!--TODO

1. Only show Account tab when someone is logged in

3. add more stuff to account tab based on whether logged in or logged out


-->

 

<!DOCTYPE html>
<html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="X-UA-Compatible" content="ie=edge">
            <meta name="google-signin-ourreddit-1572579679058" content="ourreddit-1572579679058.apps.googleusercontent.com">
            <title>OurReddit</title>
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
            <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" 
            integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
            <script>"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"</script>
            <link rel = "stylesheet" href="Spreadsheets/custom.css">
            <link rel = "stylesheet" href="Spreadsheets/toggle.css">
              <link rel = "stylesheet" href="Spreadsheets/background.css">
            <script src="https://apis.google.com/js/platform.js" async defer></script>
            

        </head> 

    <body>
    <!--
               <button id="close" class="closing" onClick="googleSignin()"><img src="glogo.png" width="25px" height="25px" />Log in with Google</button>
                  <div class="btn white darken-4 col s10 m4">
                   <a href="/users/google-oauth/" style="text-transform:none">
                  <div class="left">
                    <img width="50px" height="50px"  alt="Google &quot;G&quot; Logo" src="glogo.png"/>
                </div>Login with Google</a>

                  <button onclick = "googleSignin()">Google Signin</button>
                    <div class="btn white darken-4 col s10 m4">
                      <a href="/users/google-oauth/" style="text-transform:none">
                          <div class="left">
                              <img width="50px" height="50px"  alt="Google &quot;G&quot; Logo" src="glogo.png"/>
                          </div>Login with Google</a>
                  </div> -->

    <!--BOOTSTRAP NAVBAR-->
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd;">
      <a href="index.html"><img src="reddi.png" title="Example Image Link" width="30" height="20" /></a>
        <!--<IMG SRC= "reddi.png" ALT= "some text" WIDTH = 30 HEIGHT = 20>&nbsp; -->
      <a href="index.html" class= "navbar-brand">OurReddit</a>
    
        <!--COLLAPSIBLE BOOTSTRAP BUTTON-->
        <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarMenu">
            <span class = "navbar-toggler-icon"></span>
       </button> 
        <div class= "collapse navbar-collapse" id = "navbarMenu" >
        <ul class="navbar-nav">
       
                <!--DROPDOWN MENU-->
             <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" 
                 aria-haspopup="true" aria-expanded="false">Popular</a>
                <div class="dropdown-menu" id = "mydropdown"aria-labelledby="navbarDropdown">
                 <input type="text" placeholder="Filter" id="myInput" onkeyup="filterFunction()">
                    <a class="dropdown-item" href="media.html">Media</a>
                    <a class="dropdown-item" href="sports.html">Sports</a>
                  <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="TopCommunites">Top Communities</a>
              </div>
            </li>
      &nbsp; &nbsp; &nbsp; 

    <!--USERNAME @
        <form class="form-inline">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">@</span>
                </div>
                <input type="text" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="basic-addon1">
            </div>
         </form>
        </ul> -->

        <!--SEARCH brand-->
   <form id = "mainform" action="">
  <input id = "mainsearch" type="search">
  <i class="fa fa-search"></i>
</form>
   
        
        </div>
             
     <ul class="navbar-nav">
          <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" 
                 aria-haspopup="true" aria-expanded="false">Account</a>
                <div class="dropdown-menu" id = "mydropdown"aria-labelledby="navbarDropdown">
                     <a class="dropdown-item">NightMode on/off
                    <div class="toggle"></div></a>
                    <div class="dropdown-divider"></div>
                  <div class="dropdown-divider"></div>
                  &nbsp; &nbsp; &nbsp;
                  <a href="#" class="grey-text" id="logout">Logout</a>
              </div>
            </li>
            </ul>

    
                 <!--LOGIN BUTTONS-->
        <button class="btn btn-primary pull-right" type = "button"onclick="document.getElementById('modal-login').style.display='block'" >Login</button>
           &nbsp;
           
        <button class="btn  btn pull-right btn-outline-secondary" type="button" onclick="document.getElementById('modal-signup').style.display='block'" >Signup</button>
           &nbsp;

      <!-- <formid = "logout"><button class="btn  btn pull-rloight btn-outline-secondary" type="button">Logout</button></form>--> 

    </nav> 
    
  <!-- NAVBAR -->
  <!--<nav class="z-depth-0 grey lighten-4">
    <div class="nav-wrapper container">
      <a href="#" class="brand-logo">
        <img src="img/logo.svg" style="width: 180px; margin-top: 10px;">
      </a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li class="logged-in">
            <a href="#" class="grey-text modal-trigger" data-target="modal-account">Account</a>
          </li>
          <li class="logged-in">
            <a href="#" class="grey-text" id="logout">Logout</a>
          </li>
          <li class="logged-in">
            <a href="#" class="grey-text modal-trigger" data-target="modal-create">Create Comment</a>
          </li>
        
      </ul>
    </div>
  </nav> -->

    
  <!-- SIGN UP MODAL -->
  <div id="modal-signup" class="modal">
    <div class="modal-content">
    <span onclick="document.getElementById('modal-signup').style.display='none'" class="close" title="Close Modal">&times;</span>
      <h4>Sign up</h4><br />
      <form id="signup-form">
        <div class="input-field">
          <input type="text" id="signup-username" required />
          <label for="signup-username">User Name</label>
        </div>

        <div class="input-field">
          <input type="email" id="signup-email" required />
          <label for="signup-email">Email address</label>
            </div>
            <div class="input-field">
           <input type="password" id="signup-password" required />
          <label for="signup-password">Choose password</label>
         </div>
        <button class="btn yellow darken-2 z-depth-0">Sign up</button> 
       <button id="close" class="closing" onClick="googleSignin()"><img src="glogo.png" width="25px" height="25px" />Log in with Google</button>
       <div class="container" style="background-color:#f1f1f1">
      <button type="button" onclick="document.getElementById('modal-signup').style.display='none'" class="cancelbtn">Cancel</button>
    </div>
      </form>
    </div>
  </div>


  <!-- LOGIN MODAL -->
  <div id="modal-login" class="modal">
    <div class="modal-content">
      <span onclick="document.getElementById('modal-login').style.display='none'" class="close" title="Close Modal">&times;</span>
       <h4>Login</h4><br />
        <form id="login-form">
         <div class="input-field">
          <input type="email" id="login-email" required />
           <label for="login-email">Email address</label>
            </div>
             <div class="input-field">
              <input type="password" id="login-password" required />
              <label for="login-password">Your password</label>
            </div>
         <button class="btn yellow darken-2 z-depth-0">Login</button>
        <label>
       <input type="checkbox" checked="checked" name="remember"> Remember me
      </label>
          <div class="container" style="background-color:#f1f1f1">
      <button type="button" onclick="document.getElementById('modal-login').style.display='none'" class="cancelbtn">Cancel</button>
    </div>
      </form>
    </div>
  </div>

  <!-- ACCOUNT MODAL -->
  <div id="modal-account" class="modal">
    <div class="modal-content center-align">
      <h4>Account details</h4><br />
      <div class="account-details"></div>
      <div class="account-extras"></div>
    </div>
  </div>


  <!-- CREATE POST MODAL -->
  <div id="modal-create" class="modal" align="center">
    <div class="modal-content">
      <h4 text-align="center">Create post</h4>
        <div class="input-field">
         <label for="name">Post</label>
          <input type= "text" id = "name" placeholder="enter name">
         <br><label for="contents">Your content</label>
          <input type= "text" id = "contents" placeholder="enter content">
          <button class="btn btn-outline-success my-2 my-sm-0" onclick="add()">add post</button>
         
          </div>
    <div class="container" style="background-color:#f1f1f1">
      <button type="button" onclick="document.getElementById('modal-create').style.display='none'" class="cancelbtn">Cancel</button>
        </div>
    
        </div>
  </div> 


  
<div id = "mainscreen">...</div>

<div id="commentDiv"></div>



<script type="template/string" id="mytemplate">

<button class="btn btn-primary pull-right" type = "button"onclick="document.getElementById('modal-create').style.display='block'">create
</button>
<input type= "text" id = "name" placeholder="enter name"></input>
<input type= "text" id = "contents" placeholder="enter desc"></input>
<button onclick="add()">add post</button>
<div id="theposts" align="center"text-align="center"></div>

</script>


<script type "template/string" id ="comments">
 
  <input type="text" id = "commentInput" placeholder="enter comment"></input>
  <ul id="commentList" align="center"></ul>

</script>


  <!--Toggle Night Mode-->
  <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
        $('.toggle').click(function(){
            $('.toggle').toggleClass('active')
            $('body').toggleClass('night')
        })
    })
</script>


<script>
// Get the modal
var modal = document.getElementById('modal-login');
// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
} 



//DROPDOWN MENU FUNCTION
function filterFunction() {
  var input, filter, ul, li, a, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  div = document.getElementById("mydropdown");
  a = div.getElementsByTagName("a");
  for (i = 0; i < a.length; i++) {
    txtValue = a[i].textContent || a[i].innerText;
    if (txtValue.toUpperCase().indexOf(filter) > -1) {
      a[i].style.display = "";
    } else {
      a[i].style.display = "none";
    }
  }
}
function searchFunction() {
  var input, search, ul, li, a, i;
  input = document.getElementById("myInput");
  search = input.value.toUpperCase();
  div = document.getElementById("title");
  content = getElementsByTagName("content");
  for (i = 0; i < content.length; i++) {
    txtValue = content[i].textContent || content[i].innerText;
    if (txtValue.toUpperCase().indexOf(search) > -1) {
      content[i].style.display = "";
    } else {
      content[i].style.display = "none";
    }
  }
}
</script>
    
            <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-database.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>
         <script src="Scripts/connect.js"></script>
         <script src="Scripts/custom.js"></script>


        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-analytics.js"></script>

      <!--  <script>
          // Your web app's Firebase configuration
          var firebaseConfig = {
            apiKey: "AIzaSyBUjU1OuJUnvueOI9FSvPGnnAg5w3uBQog",
            authDomain: "ourreddit-1572579679058.firebaseapp.com",
            databaseURL: "https://ourreddit-1572579679058.firebaseio.com",
            projectId: "ourreddit-1572579679058",
            storageBucket: "ourreddit-1572579679058.appspot.com",
            messagingSenderId: "759250034016",
            appId: "1:759250034016:web:612e3bb641ced9e02c1205",
            measurementId: "G-64PCTQ8QLZ"
          };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            firebase.analytics();

            //make auth and firestone references
            const auth = firebase.auth();
            const db = firebase.firestore();
        </script>
        
                compiled and minified Javascript-->
                <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
                <script src="Scripts/auth.js"></script>
                <script src="Scripts/index.js"></script>
                
             
    </body>
</html>